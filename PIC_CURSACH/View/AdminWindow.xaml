<Window x:Class="PIC_CURSACH.View.AdminWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:viewModel="clr-namespace:PIC_CURSACH.ViewModel"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:utils="clr-namespace:PIC_CURSACH.utils"
        xmlns:controls="clr-namespace:PIC_CURSACH.View.controls"
        mc:Ignorable="d"
        Background="{DynamicResource WindowBackground}"
        Title="Панель администратора" Height="600" Width="1000">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Background="#34495E" Padding="20">
            <TextBlock Foreground="White" FontSize="24" FontWeight="Bold" Text="Панель администратора" />
        </Border>

        <!-- Основной контент -->
        <TabControl Grid.Row="1" Margin="10">
            <!-- Клиенты -->
            <TabItem Header="Клиенты" Padding="10">
                <controls:EntityTableControl
                    ItemsSource="{Binding Clients}"
                    SelectedItem="{Binding SelectedClient, Mode=TwoWay}"
                    AddCommand="{Binding ShowAddFormCommand}"
                    EditCommand="{Binding ShowEditFormCommand}"
                    DeleteCommand="{Binding DeleteClientCommand}"
                    CanAdd="True"
                    CanEdit="True"
                    CanDelete="True"
                    RowDoubleClick="ClientsDataGrid_MouseDoubleClick">
                    <controls:EntityTableControl.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ClientId}"
                                            IsReadOnly="True" Width="60" />
                        <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}" Width="*" />
                        <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}" Width="*" />
                        <DataGridTextColumn Header="Паспорт" Binding="{Binding Passport}" Width="*" />
                        <DataGridTextColumn Header="Телефон" Binding="{Binding Phone}" Width="*" />
                        <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*" />
                    </controls:EntityTableControl.Columns>
                </controls:EntityTableControl>
            </TabItem>

            <!-- Сотрудники -->
            <TabItem Header="Сотрудники" Padding="10">
                <controls:EntityTableControl
                    ItemsSource="{Binding Employees}"
                    SelectedItem="{Binding SelectedEmployee, Mode=TwoWay}"
                    AddCommand="{Binding ShowAddEmployeeFormCommand}"
                    EditCommand="{Binding ShowEditEmployeeFormCommand}"
                    DeleteCommand="{Binding DeleteEmployeeCommand}"
                    CanAdd="True"
                    CanEdit="True"
                    CanDelete="True"
                    RowDoubleClick="EmployeesDataGrid_MouseDoubleClick">
                    <controls:EntityTableControl.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding EmployeeId}"
                                            IsReadOnly="True" Width="60" />
                        <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}" Width="*" />
                        <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}" Width="*" />
                        <DataGridTextColumn Header="Должность" Binding="{Binding Position}" Width="*" />
                    </controls:EntityTableControl.Columns>
                </controls:EntityTableControl>
            </TabItem>

            <!-- Операции по депозитам -->
            <TabItem Header="Операции по депозитам" Padding="10">
                <controls:EntityTableControl
                    ItemsSource="{Binding DepositOperations}"
                    SelectedItem="{Binding SelectedDepositOperation, Mode=TwoWay}"
                    AddCommand="{Binding ShowAddDepositOperationFormCommand}"
                    EditCommand="{Binding ShowEditDepositOperationFormCommand}"
                    DeleteCommand="{Binding DeleteDepositOperationCommand}"
                    CanAdd="True"
                    CanEdit="True"
                    CanDelete="True">
                    <controls:EntityTableControl.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding OperationId}" Width="60" />
                        <DataGridTextColumn Header="Договор" Binding="{Binding ContractId}" Width="*" />
                        <DataGridTextColumn Header="Тип операции" Binding="{Binding OperationType}" Width="*" />
                        <DataGridTextColumn Header="Сумма" Binding="{Binding Amount}" Width="*" />
                        <DataGridTextColumn Header="Дата" Binding="{Binding OperationDate}" Width="*" />
                    </controls:EntityTableControl.Columns>
                </controls:EntityTableControl>
            </TabItem>

            <!-- Типы депозитов -->
            <TabItem Header="Типы депозитов" Padding="10">
                <controls:EntityTableControl
                    ItemsSource="{Binding DepositTypes}"
                    SelectedItem="{Binding SelectedDepositType, Mode=TwoWay}"
                    AddCommand="{Binding ShowAddDepositTypeFormCommand}"
                    EditCommand="{Binding ShowEditDepositTypeFormCommand}"
                    DeleteCommand="{Binding DeleteDepositTypeCommand}"
                    CanAdd="True"
                    CanEdit="True"
                    CanDelete="True"
                    RowDoubleClick="DepositTypeDataGrid_MouseDoubleClick">
                    <controls:EntityTableControl.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding TypeId}" Width="60" />
                        <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="*" />
                        <DataGridTextColumn Header="Процент" Binding="{Binding InterestRate}" Width="*" />
                        <DataGridTextColumn Header="Миним. сумма" Binding="{Binding MinAmount}" Width="*" />
                        <DataGridTextColumn Header="Срок (дней)" Binding="{Binding TermDays}" Width="*" />
                    </controls:EntityTableControl.Columns>
                </controls:EntityTableControl>
            </TabItem>

            <!-- Депозитные договоры -->
            <TabItem Header="Депозитные договоры" Padding="10">
                <controls:EntityTableControl
                    ItemsSource="{Binding DepositContracts}"
                    SelectedItem="{Binding SelectedDepositContract, Mode=TwoWay}"
                    AddCommand="{Binding ShowAddDepositContractFormCommand}"
                    EditCommand="{Binding ShowEditDepositContractFormCommand}"
                    DeleteCommand="{Binding DeleteDepositContractCommand}"
                    CanAdd="True"
                    CanEdit="True"
                    CanDelete="True"
                    RowDoubleClick="DepositContractDataGrid_MouseDoubleClick">
                    <controls:EntityTableControl.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ContractId}" Width="60" />
                        <DataGridTextColumn Header="Клиент ID" Binding="{Binding ClientId}" Width="*" />
                        <DataGridTextColumn Header="Тип депозита ID" Binding="{Binding TypeId}" Width="*" />
                        <DataGridTextColumn Header="Сотрудник ID" Binding="{Binding EmployeeId}" Width="*" />
                        <DataGridTextColumn Header="Филиал ID" Binding="{Binding BranchId}" Width="*" />
                        <DataGridTextColumn Header="Сумма" Binding="{Binding Amount}" Width="*" />
                        <DataGridTextColumn Header="Дата начала" Binding="{Binding StartDate, StringFormat=d}" Width="*" />
                        <DataGridTextColumn Header="Дата окончания" Binding="{Binding EndDate, StringFormat=d}" Width="*" />
                        <DataGridTextColumn Header="Статус" Binding="{Binding Status}" Width="*" />
                    </controls:EntityTableControl.Columns>
                </controls:EntityTableControl>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
